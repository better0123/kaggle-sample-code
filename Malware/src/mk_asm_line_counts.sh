
# calculate frequencies of lines in disassembler (*.asm) output 
# creates one file per class label (1..9)

LINES_DIR=../data/lines
LABELED_DIR=../data/train

# Create count files for the training set.

# for label in 1 2 3 4 5 6 7 8 9

# sorted in size of total data, from smallest to largest
# 439M    ./5 3.0G    ./7 3.1G    ./8 3.3G    ./4 6.7G    ./6
# 9.9G    ./1 17G     ./9 40G     ./3 103G    ./2 185G    .

for label in 5 7 8 4 6 1 9 3 2 
do
    echo `date`  Processing training files for label ${label} 

    # cat `ls ${LABELED_DIR}/${label}/*.asm | head -5` | \   # TODO for testing only 

    cat ${LABELED_DIR}/${label}/*.asm | \
    ./asmParser | \
    sort | uniq -c |  sort -nr \
    > ${LINES_DIR}/${label}.txt 

done

